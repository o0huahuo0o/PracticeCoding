<!DOCTYPE html>
<html>
 <head>
    <meta charset="UTF-8">
    <title> new document </title>  
    <meta http-equiv="Content-Type" content="text/html; charset=gbk"/>   
    <script type="text/javascript"> 
        // 鼠标移动改变背景,可以通过给每行绑定鼠标移上事件和鼠标移除事件来改变所在行背景色。  
       window.onload = function(){
           changeC();                           //必须将背景变色函数定义和调用分开,否则新添加行背景不能调用变色
         } 
         function changeC(){
         var trlist=document.getElementsByTagName('tr');
          for(var i=0;i<trlist.length;i++){
/*               trlist[i].setAttribute('onmouseover','mouseOver()');
              trlist[i].setAttribute('onmouseout','mouseOut()'); */
          trlist[i].onmouseover=function(){
              this.style.background='#f2f2f2';
          }
          trlist[i].onmouseout=function(){
              this.style.background='#fff';
          }        
          }
         }
       // 编写一个函数，供添加按钮调用，动态在表格的最后一行添加子节点；
       
      function addTr(obj){
        var tab=document.getElementById('table').lastChild;
         var newTr=document.createElement('tr');
         var newTd1=document.createElement('td');
         var newTd2=document.createElement('td');
         var newTd3=document.createElement('td');
         var newName=prompt('请输入姓名:');
         var newNum=prompt('请输入学号:');
         newTd1.innerHTML=newNum;
         newTd2.innerHTML=newName;
         newTd3.innerHTML='<a href="javascript:;" onclick="deleteTr(this)" >删除</a>';
         tab.appendChild(newTr);
         newTr.appendChild(newTd1);
         newTr.appendChild(newTd2);
         newTr.appendChild(newTd3);
         console.log(newTr,tab);
         changeC();   
      }                   
      // 创建删除函数
      function deleteTr(obj){
        var parentTab=obj.parentNode.parentNode.parentNode;     //方法一:从'删除'所在这一行的父节点删除该行
        var parentTr=obj.parentNode.parentNode;
        console.log(parentTr,parentTab);
        parentTab.removeChild(parentTr);
      }
   </script>  
 </head> 
 <body> 
	   <table border="1" width="50%" id="table">
	   <tr >
		<th >学号</th>
		<th>姓名</th>
		<th>操作</th>
	   </tr>  

	   <tr>
		<td>xh001</td>
		<td>王小明</td>
		<td><a href="javascript:;" onclick="deleteTr(this)" >删除</a></td>   <!--在删除按钮上添加点击事件  -->
	   </tr>

	   <tr>
		<td>xh002</td>
		<td>刘小芳</td>
		<td><a href="javascript:;" onclick="deleteTr(this)">删除</a></td>   <!--在删除按钮上添加点击事件  -->
	   </tr>  
	   </table>
       <input type="button" value="添加一行"  onclick="addTr()"/>   <!--在添加按钮上添加点击事件  -->

 </body>
</html>